generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Event{
    id          Int   @id @default(autoincrement())
    name        String
    startDate   DateTime
    endDate     DateTime
    sportid     Int @unique
    sport       Sport @relation(fields: [sportid], references: [id])
    locationid  Int @unique
    location    Location @relation(fields: [locationid], references: [id])
    matches     Matches[]
}

model Sport{
    id         Int   @id @default(autoincrement())
    playerCount Int
    name       String

    Event Event[]
}

model Location{
    id         Int   @id @default(autoincrement())
    city      String
    cityCode  String
    street    String
    number    String

    Event Event[]

    Player Player[]

    Admin Admin[]

    Visitor Visitor[]
}

model User{
    id        Int   @id @default(autoincrement())
    fullName  String
    phoneNumber  String
    email    String
}

model Player {
    id          Int      @id @default(autoincrement())
    fullName    String
    phoneNumber String
    email       String
    playerId    Int      @unique  
    addressid   Int       @unique       
    address     Location @relation(fields: [addressid], references: [id])
    age         Int
    experience  Int
}

model Admin {
    id          Int      @id @default(autoincrement())
    fullName    String
    phoneNumber String
    email       String
    adminId     Int      @unique
    addressid   Int       @unique
    address     Location @relation(fields: [addressid], references: [id])
}

model Visitor {
    id          Int      @id @default(autoincrement())
    fullName    String
    phoneNumber String
    email       String
    visitorId   Int      @unique
    addressid   Int       @unique
    address     Location @relation(fields: [addressid], references: [id])
}

model Matches {
    id          Int      @id @default(autoincrement())
    winner      String
    result      String
    date        DateTime
    hour        String
    eventId     Int
    event       Event @relation(fields: [eventId], references: [id])
}



